/**
 * MIT License
 * 
 * Copyright (c) 2019 Ayanava De
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
!function(){return function n(r,t,e){function o(i,s){if(!t[i]){if(!r[i]){var u="function"==typeof require&&require;if(!s&&u)return u(i,!0);if(a)return a(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var l=t[i]={exports:{}};r[i][0].call(l.exports,function(n){return o(r[i][1][n]||n)},l,l.exports,n,r,t,e)}return t[i].exports}for(var a="function"==typeof require&&require,i=0;i<e.length;i++)o(e[i]);return o}}()({1:[function(n,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEvaluable=function(n){return"operator"!==n.type},t.isVariable=function(n){return"variable"===n.type},t.isConstant=function(n){return"constant"===n.type},t.isExpression=function(n){return"expression"===n.type}},{}],2:[function(n,r,t){"use strict";var e,o=this&&this.__extends||(e=function(n,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var t in r)r.hasOwnProperty(t)&&(n[t]=r[t])})(n,r)},function(n,r){function t(){this.constructor=n}e(n,r),n.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(n){function r(r){var t=n.call(this,r)||this;return t.name="Division by zero",t}return o(r,n),r}(Error);t.DivisionByZero=a;var i=function(n){function r(r){var t=n.call(this,r)||this;return t.name="Indeterminate form",t}return o(r,n),r}(Error);t.IndeterminateForm=i;var s=function(n){function r(r){var t=n.call(this,"A constant with name "+r+" has already been declared.")||this;return t.name="Overwrite",t}return o(r,n),r}(Error);t.Overwrite=s;var u=function(n){function r(r,t){var e=n.call(this,"Index "+r+" does not exist. Indexing starts from "+t+".")||this;return e.name="Invalid index",e}return o(r,n),r}(Error);t.InvalidIndex=u},{}],3:[function(n,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=n("./definitions"),o=n("./operators/binary"),a=n("./operators/unary"),i=n("./math/math");!function(n){function r(n,r){if(e.isExpression(n)){var o=!1;if(n.arg_list.forEach(function(n){return o=o||r.has(n)}),o)return t(n,r)}return r.get(n)||n}function t(n,t){return o.isBinaryOperator(n.op)?r(n.lhs,t)[n.op](r(n.rhs,t)):a.isUnaryOperator(n.op)?i.math[n.op](r(n.arg,t)):void 0}n.createArgList=function(n,r){var t=new Set;return e.isExpression(n)?n.arg_list.forEach(function(n){return t.add(n)}):e.isVariable(n)&&t.add(n),void 0!==r&&(e.isExpression(r)?r.arg_list.forEach(function(n){return t.add(n)}):e.isVariable(r)&&t.add(r)),t},n.evaluateAt=t}(t.ExpressionBuilder||(t.ExpressionBuilder={}))},{"./definitions":1,"./math/math":7,"./operators/binary":8,"./operators/unary":9}],4:[function(n,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=function(){function n(n,r){this.left=n,this.right=r}return n.closed=function(r,t){return new n({value:r,inclusive:!0},{value:t,inclusive:!0})},n.open=function(r,t){return new n({value:r,inclusive:!1},{value:t,inclusive:!1})},n.open_closed=function(r,t){return new n({value:r,inclusive:!1},{value:t,inclusive:!0})},n.closed_open=function(r,t){return new n({value:r,inclusive:!0},{value:t,inclusive:!1})},n.prototype.isLeftOpen=function(){return!this.left.inclusive},n.prototype.isLeftClosed=function(){return this.left.inclusive},n.prototype.isRightOpen=function(){return!this.right.inclusive},n.prototype.isRightClosed=function(){return this.right.inclusive},n.prototype.isOpen=function(){return this.isLeftOpen()&&this.isRightOpen()},n.prototype.isClosed=function(){return this.isLeftClosed()&&this.isRightClosed()},n.prototype.contains=function(n){return this.isOpen()?this.left.value<n&&n<this.right.value:this.isClosed()?this.left.value<=n&&n<=this.right.value:this.isLeftClosed()?this.left.value<=n&&n<this.right.value:this.isRightClosed()?this.left.value<n&&n<=this.right.value:void 0},n}();t.Interval=e},{}],5:[function(n,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e,o,a=n("../errors");!function(n){n[n.UP=0]="UP",n[n.DOWN=1]="DOWN",n[n.CEIL=2]="CEIL",n[n.FLOOR=3]="FLOOR",n[n.HALF_UP=4]="HALF_UP",n[n.HALF_DOWN=5]="HALF_DOWN",n[n.HALF_EVEN=6]="HALF_EVEN",n[n.UNNECESSARY=7]="UNNECESSARY"}(e=t.RoundingMode||(t.RoundingMode={})),function(n){n.DEFAULT_CONTEXT={precision:17,rounding:e.UP},n.HIGH_PRECISION={precision:50,rounding:e.UP},n.SCIENTIFIC={precision:20,rounding:e.HALF_EVEN},n.HIGH_PREC_SCIENTIFIC={precision:50,rounding:e.HALF_EVEN}}(o=t.MathContext||(t.MathContext={}));var i=function(){function n(r,t){var e,o;if(void 0===t)o="number"==typeof r?r.toString():r;else{if("string"!=typeof r||"string"!=typeof t)throw new TypeError("Illegal argument type.");o=r+"."+t}e=n.parseNum(o),this.integer=e[0],this.decimal=e[1]}return Object.defineProperty(n.prototype,"asString",{get:function(){return this.integer+this.decimal},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"asBigInt",{get:function(){return BigInt(this.asString)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"precision",{get:function(){return this.decimal.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sign",{get:function(){return""===this.integer&&""===this.decimal?0:"-"===this.integer.charAt(0)?-1:1},enumerable:!0,configurable:!0}),n.pad=function(n,r,t,e){if(void 0===e&&(e=!1),t.length>1)throw new Error("Padding string must have only one character.");return e?"".padEnd(r,t)+n:n+"".padEnd(r,t)},n.align=function(r,t){var e=r.precision-t.precision,o=r.asString,a=t.asString;return e>0?a=n.pad(a,e,"0"):e<0&&(o=n.pad(o,-e,"0")),[o,a]},n.decimate=function(r,t){if(t<0)throw new Error("Cannot put decimal point at negative index.");var e=r,o="";return"-"===e.charAt(0)&&(e=e.substring(1),o="-"),o+(e=t>e.length?"0."+n.pad(e,t-e.length,"0",!0):e.substring(0,e.length-t)+"."+e.substring(e.length-t))},n.parseNum=function(r){if(!function(n){if(n.indexOf("e")>-1){var r=n.indexOf("e"),t=n.substring(0,r),e=n.substring(r+1);return l(t)&&c(e)}return l(n)}(r))throw new TypeError("Illegal number format.");var t=[];if(r.indexOf("e")>-1){var e=r.indexOf("e"),o=r.substring(0,e),a=Number(r.substring(e+1)),i=o.indexOf("."),s=-1==i?0:o.substring(i+1).length,f=o.split(".").join("");t=(f=a>s?n.pad(o,a-s,"0"):n.decimate(f,s-a)).split(".")}else t=r.split(".");return 1===t.length?[u(t[0],"start"),""]:[u(t[0],"start"),u(t[1],"end")]},n.abs=function(r){return"-"===r.integer.charAt(0)?new n(r.integer.substring(1)+"."+r.decimal):r},n.round=function(r,t){if(r.precision>t.precision){var o=r.asBigInt,a=r.precision-t.precision,i=BigInt(n.pad("1",a,"0")),s=o/i,u=o%i,c=BigInt("1"),l=BigInt("10"),f=BigInt(n.pad("5",a-1,"0")),p=BigInt(n.pad("1",a-1,"0"));switch(t.rounding){case e.UP:u>=p?s+=c:u<=-p&&(s-=c);break;case e.DOWN:break;case e.CEIL:u>=p&&(s+=c);break;case e.FLOOR:u<=-p&&(s-=c);break;case e.HALF_DOWN:u>f?s+=c:u<-f&&(s-=c);break;case e.HALF_UP:u>=f?s+=c:u<=-f&&(s-=c);break;case e.HALF_EVEN:u>f?s+=c:u<-f?s-=c:Math.abs(Number(s%l))%2!=0&&(u===f?s+=c:u===-f&&(s-=c));break;case e.UNNECESSARY:if(u>0||u<0)throw Error("Rounding necessary. Exact representation not known.")}var h=s.toString();return new n(n.decimate(h,t.precision))}return r},n.prototype.compareTo=function(r){var t=n.align(this,r),e=t[0],o=t[1],a=BigInt(e)-BigInt(o);return a>0?1:a<0?-1:0},n.prototype.lessThan=function(n){return-1===this.compareTo(n)},n.prototype.moreThan=function(n){return 1===this.compareTo(n)},n.prototype.equals=function(r,t){void 0===t&&(t=n.MODE);var e=n.round(this,t),o=n.round(r,t);return e.integer===o.integer&&e.decimal===o.decimal},n.prototype.lessEquals=function(n){return this.lessThan(n)||this.equals(n)},n.prototype.moreEquals=function(n){return this.moreThan(n)||this.equals(n)},Object.defineProperty(n.prototype,"neg",{get:function(){return"-"===this.integer.charAt(0)?new n(this.integer.substring(1)+"."+this.decimal):new n("-"+this.toString())},enumerable:!0,configurable:!0}),n.prototype.add=function(r,t){t=t||n.MODE;var e=n.align(this,r),o=e[0],a=e[1],i=(BigInt(o)+BigInt(a)).toString(),s=Math.max(this.precision,r.precision),u=new n(n.decimate(i,s));return n.round(u,t)},n.prototype.sub=function(r,t){t=t||n.MODE;var e=n.align(this,r),o=e[0],a=e[1],i=(BigInt(o)-BigInt(a)).toString(),s=Math.max(this.precision,r.precision),u=new n(n.decimate(i,s));return n.round(u,t)},n.prototype.mul=function(r,t){t=t||n.MODE;var e=(this.asBigInt*r.asBigInt).toString(),o=this.precision+r.precision,a=new n(n.decimate(e,o));return n.round(a,t)},n.prototype.div=function(r,t){if(t=t||n.MODE,0===r.sign){if(0===this.sign)throw new a.IndeterminateForm("Cannot determine 0/0.");throw new a.DivisionByZero("Cannot divide by zero.")}var e=t.precision,o=this.precision,i=e-o+r.precision,s=((i<0?this.asBigInt:BigInt(n.pad(this.asString,i,"0")))/r.asBigInt).toString(),u=new n(n.decimate(s,i<0?o:e));return n.round(u,t)},n.intpow=function(r,t,e){if(void 0===e&&(e=n.MODE),t!==(0|t))throw"Only defined for integer values of the power.";for(var o=n.ONE,a=0;a<t;a++)o=o.mul(r,e);return o},n.prototype.pow=function(r,t){if(void 0===t&&(t=n.MODE),""===r.decimal||"0"===r.decimal)return n.intpow(this,parseInt(r.integer),t);var e={precision:2*t.precision,rounding:t.rounding},o=r.mul(n.ln(this,e),e);return n.round(n.exp(o,e),t)},n.sin=function(r,t){void 0===t&&(t=n.MODE);for(var e={precision:2*t.precision,rounding:t.rounding},o=r.mul(r,e),a=n.ZERO,i=r,s=n.ZERO;;){a=a.add(i,e);var u=n.TWO.mul(s).add(n.THREE),c=n.TWO.mul(s).add(n.TWO),l=u.mul(c).neg,f=i.mul(o,e).div(l,e);if(n.abs(f).equals(n.ZERO,e))return n.round(a,t);i=f,s=s.add(n.ONE)}},n.cos=function(r,t){void 0===t&&(t=n.MODE);for(var e={precision:2*t.precision,rounding:t.rounding},o=r.mul(r,e),a=n.ZERO,i=n.ONE,s=n.ZERO;;){a=a.add(i,e);var u=n.TWO.mul(s).add(n.ONE),c=n.TWO.mul(s).add(n.TWO),l=u.mul(c).neg,f=i.mul(o,e).div(l,e);if(n.abs(f).equals(n.ZERO,e))return n.round(a,t);i=f,s=s.add(n.ONE)}},n.exp=function(r,t){void 0===t&&(t=n.MODE);for(var e={precision:2*t.precision,rounding:t.rounding},o=n.ZERO,a=n.ONE,i=n.ZERO;;){o=o.add(a,e);var s=a.mul(r,e).div(i.add(n.ONE),e);if(n.abs(s).equals(n.ZERO,e))return n.round(o,t);a=s,i=i.add(n.ONE)}},n.ln_less=function(r,t){void 0===t&&(t=n.MODE);for(var e={precision:2*t.precision,rounding:t.rounding},o=n.ZERO,a=r,i=n.ONE;;){o=o.add(a.div(i,e),e);var s=a.mul(r,e).neg,u=s.div(i.add(n.ONE,e),e);if(n.abs(u).equals(n.ZERO,e))return n.round(o,t);a=s,i=i.add(n.ONE)}},n.ln=function(r,t){void 0===t&&(t=n.MODE);var e={precision:2*t.precision,rounding:t.rounding};if(r.lessEquals(n.ZERO))throw"Undefined";return r.lessThan(n.TWO)?n.round(n.ln_less(r.sub(n.ONE,e),e),t):n.round(s(function(t){return n.exp(t,e).sub(r,e)},function(r){return n.exp(r,e)},n.ONE,e),t)},n.log=function(r,t){void 0===t&&(t=n.MODE);var e={precision:2*t.precision,rounding:t.rounding},o=n.ln(r,e).div(n.ln10,e);return n.round(o,t)},n.prototype.toString=function(){return"-"===this.integer&&""===this.decimal?"0.0":"-"===this.integer?"-0."+this.decimal:(this.integer||"0")+"."+(this.decimal||"0")},n.PI=new n("3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679"),n.E=new n("2.7182818284590452353602874713526624977572470936999595749669676277240766303535475945713821785251664274"),n.ln10=new n("2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983"),n.ZERO=new n("0"),n.ONE=new n("1"),n.TWO=new n("2"),n.THREE=new n("3"),n.FOUR=new n("4"),n.FIVE=new n("5"),n.SIX=new n("6"),n.SEVEN=new n("7"),n.EIGHT=new n("8"),n.NINE=new n("9"),n.MODE=o.DEFAULT_CONTEXT,n}();function s(n,r,t,e){void 0===e&&(e=i.MODE);for(var o,a={precision:2*e.precision,rounding:e.rounding},s=t;;){if(n(s).equals(i.ZERO,a))return i.round(s,e);if(o=new i(s.toString()),(s=s.sub(n(s).div(r(s),a),a)).equals(o,a))return i.round(s,e)}}function u(n,r){var t;if("end"===r){for(t=n.length-1;t>=0&&"0"===n.charAt(t);t--);return n.substring(0,t+1)}for(t=0;t<n.length&&"0"===n.charAt(t);t++);return n.substring(t)}function c(n,r){void 0===r&&(r=!1);for(var t=["0","1","2","3","4","5","6","7","8","9"],e=n.charAt(0),o=0,a=r?"+"===e?n.substring(1):n:"+"===e||"-"===e?n.substring(1):n;o<a.length;o++){if(!(a[o]in t))return!1}return!0}function l(n){var r=n.split(".");return!(r.length>2)&&(1===r.length?c(r[0]):c(r[0])&&c(r[1],!0))}t.BigNum=i},{"../errors":2}],6:[function(n,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=n("./math");t.neg=e.math.neg,t.sin=e.math.sin,t.cos=e.math.cos,t.tan=e.math.tan,t.asin=e.math.asin,t.acos=e.math.acos,t.atan=e.math.atan,t.sinh=e.math.sinh,t.cosh=e.math.cosh,t.tanh=e.math.tanh,t.asinh=e.math.asinh,t.acosh=e.math.acosh,t.atanh=e.math.atanh,t.log=e.math.log,t.ln=e.math.ln,t.exp=e.math.exp,t.sqrt=e.math.sqrt,t.abs=e.math.abs,t.floor=e.math.floor,t.ceil=e.math.ceil},{"./math":7}],7:[function(n,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=n("../../scalar"),o=n("../operators/unary"),a=function(){function n(){}return n.neg=function(n){return"number"==typeof n?-n:n instanceof e.Scalar.Constant?e.Scalar.constant(-n.value):n instanceof e.Scalar.Variable||n instanceof e.Scalar.Expression?new e.Scalar.Expression(o.UnaryOperator.NEG,n):void 0},n.sin=function(n){return"number"==typeof n?Math.sin(n):n instanceof e.Scalar.Constant?e.Scalar.constant(Math.sin(n.value)):n instanceof e.Scalar.Variable||n instanceof e.Scalar.Expression?new e.Scalar.Expression(o.UnaryOperator.SIN,n):void 0},n.cos=function(n){return"number"==typeof n?Math.cos(n):n instanceof e.Scalar.Constant?e.Scalar.constant(Math.cos(n.value)):n instanceof e.Scalar.Variable||n instanceof e.Scalar.Expression?new e.Scalar.Expression(o.UnaryOperator.COS,n):void 0},n.tan=function(n){return"number"==typeof n?Math.tan(n):n instanceof e.Scalar.Constant?e.Scalar.constant(Math.tan(n.value)):n instanceof e.Scalar.Variable||n instanceof e.Scalar.Expression?new e.Scalar.Expression(o.UnaryOperator.TAN,n):void 0},n.asin=function(n){return"number"==typeof n?Math.asin(n):n instanceof e.Scalar.Constant?e.Scalar.constant(Math.asin(n.value)):n instanceof e.Scalar.Variable||n instanceof e.Scalar.Expression?new e.Scalar.Expression(o.UnaryOperator.ASIN,n):void 0},n.acos=function(n){return"number"==typeof n?Math.acos(n):n instanceof e.Scalar.Constant?e.Scalar.constant(Math.acos(n.value)):n instanceof e.Scalar.Variable||n instanceof e.Scalar.Expression?new e.Scalar.Expression(o.UnaryOperator.ACOS,n):void 0},n.atan=function(n){return"number"==typeof n?Math.atan(n):n instanceof e.Scalar.Constant?e.Scalar.constant(Math.atan(n.value)):n instanceof e.Scalar.Variable||n instanceof e.Scalar.Expression?new e.Scalar.Expression(o.UnaryOperator.ATAN,n):void 0},n.sinh=function(n){return"number"==typeof n?Math.sinh(n):n instanceof e.Scalar.Constant?e.Scalar.constant(Math.sinh(n.value)):n instanceof e.Scalar.Variable||n instanceof e.Scalar.Expression?new e.Scalar.Expression(o.UnaryOperator.SINH,n):void 0},n.cosh=function(n){return"number"==typeof n?Math.cosh(n):n instanceof e.Scalar.Constant?e.Scalar.constant(Math.cosh(n.value)):n instanceof e.Scalar.Variable||n instanceof e.Scalar.Expression?new e.Scalar.Expression(o.UnaryOperator.COSH,n):void 0},n.tanh=function(n){return"number"==typeof n?Math.tanh(n):n instanceof e.Scalar.Constant?e.Scalar.constant(Math.tanh(n.value)):n instanceof e.Scalar.Variable||n instanceof e.Scalar.Expression?new e.Scalar.Expression(o.UnaryOperator.TANH,n):void 0},n.asinh=function(n){return"number"==typeof n?Math.asinh(n):n instanceof e.Scalar.Constant?e.Scalar.constant(Math.asinh(n.value)):n instanceof e.Scalar.Variable||n instanceof e.Scalar.Expression?new e.Scalar.Expression(o.UnaryOperator.ASINH,n):void 0},n.acosh=function(n){return"number"==typeof n?Math.acosh(n):n instanceof e.Scalar.Constant?e.Scalar.constant(Math.acosh(n.value)):n instanceof e.Scalar.Variable||n instanceof e.Scalar.Expression?new e.Scalar.Expression(o.UnaryOperator.ACOSH,n):void 0},n.atanh=function(n){return"number"==typeof n?Math.atanh(n):n instanceof e.Scalar.Constant?e.Scalar.constant(Math.atanh(n.value)):n instanceof e.Scalar.Variable||n instanceof e.Scalar.Expression?new e.Scalar.Expression(o.UnaryOperator.ATANH,n):void 0},n.log=function(n){return"number"==typeof n?Math.log10(n):n instanceof e.Scalar.Constant?e.Scalar.constant(Math.log10(n.value)):n instanceof e.Scalar.Variable||n instanceof e.Scalar.Expression?new e.Scalar.Expression(o.UnaryOperator.LOG,n):void 0},n.ln=function(n){return"number"==typeof n?Math.log(n):n instanceof e.Scalar.Constant?e.Scalar.constant(Math.log(n.value)):n instanceof e.Scalar.Variable||n instanceof e.Scalar.Expression?new e.Scalar.Expression(o.UnaryOperator.LN,n):void 0},n.exp=function(n){return"number"==typeof n?Math.exp(n):n instanceof e.Scalar.Constant?e.Scalar.constant(Math.exp(n.value)):n instanceof e.Scalar.Variable||n instanceof e.Scalar.Expression?new e.Scalar.Expression(o.UnaryOperator.EXP,n):void 0},n.sqrt=function(n){return"number"==typeof n?Math.sqrt(n):n instanceof e.Scalar.Constant?e.Scalar.constant(Math.sqrt(n.value)):n instanceof e.Scalar.Variable||n instanceof e.Scalar.Expression?new e.Scalar.Expression(o.UnaryOperator.SQRT,n):void 0},n.abs=function(n){return"number"==typeof n?Math.abs(n):n instanceof e.Scalar.Constant?e.Scalar.constant(Math.abs(n.value)):n instanceof e.Scalar.Variable||n instanceof e.Scalar.Expression?new e.Scalar.Expression(o.UnaryOperator.ABS,n):void 0},n.floor=function(n){return"number"==typeof n?Math.floor(n):n instanceof e.Scalar.Constant?e.Scalar.constant(Math.floor(n.value)):n instanceof e.Scalar.Variable||n instanceof e.Scalar.Expression?new e.Scalar.Expression(o.UnaryOperator.FLOOR,n):void 0},n.ceil=function(n){return"number"==typeof n?Math.ceil(n):n instanceof e.Scalar.Constant?e.Scalar.constant(Math.ceil(n.value)):n instanceof e.Scalar.Variable||n instanceof e.Scalar.Expression?new e.Scalar.Expression(o.UnaryOperator.CEIL,n):void 0},n}();t.math=a},{"../../scalar":12,"../operators/unary":9}],8:[function(n,r,t){"use strict";var e;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n.ADD="add",n.SUB="sub",n.MUL="mul",n.DIV="div",n.POW="pow",n.DOT="dot",n.CROSS="cross",n.MAG="mag",n.SCALE="scale",n.UNIT="unit"}(e=t.BinaryOperator||(t.BinaryOperator={})),t.isBinaryOperator=function(n){for(var r in e)if(e[r]===n)return!0;return!1}},{}],9:[function(n,r,t){"use strict";var e;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n.NEG="neg",n.SIN="sin",n.COS="cos",n.TAN="tan",n.ASIN="asin",n.ACOS="acos",n.ATAN="atan",n.SINH="sinh",n.COSH="cosh",n.TANH="tanh",n.ASINH="asinh",n.ACOSH="acosh",n.ATANH="atanh",n.LOG="log",n.LN="ln",n.EXP="exp",n.SQRT="sqrt",n.ABS="abs",n.FLOOR="floor",n.CEIL="ceil"}(e=t.UnaryOperator||(t.UnaryOperator={})),t.isUnaryOperator=function(n){for(var r in e)if(e[r]===n)return!0;return!1}},{}],10:[function(n,r,t){"use strict";function e(n){for(var r in n)t.hasOwnProperty(r)||(t[r]=n[r])}Object.defineProperty(t,"__esModule",{value:!0}),e(n("./matrix")),e(n("./vector")),e(n("./scalar")),e(n("./core/definitions")),e(n("./core/expression")),e(n("./core/operators/binary")),e(n("./core/operators/unary")),e(n("./core/math/functions")),e(n("./core/math/bignum")),e(n("./core/errors")),e(n("./core/interval"))},{"./core/definitions":1,"./core/errors":2,"./core/expression":3,"./core/interval":4,"./core/math/bignum":5,"./core/math/functions":6,"./core/operators/binary":8,"./core/operators/unary":9,"./matrix":11,"./scalar":12,"./vector":13}],11:[function(n,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=function(){function n(n,r,t){if("number"==typeof n&&"number"==typeof r)this.row=n,this.col=r,this.elements=new Array(n).fill(0).map(function(n){return new Array(r).fill(t||0)});else{if(!(n instanceof Array))throw"Illegal initialisation of matrix.";if(!function(n){for(var r=n.length,t=n[0].length,e=0;e<r;e++){if(n[e].length!==t)return!1;if(!n[e].every(function(n){return"number"==typeof n}))return!1;n[e]=n[e].map(function(n){return Object.is(n,-0)?0:n})}return!0}(n))throw"Illegal values in matrix.";this.elements=n.map(function(n){return n.slice()}),this.row=this.elements.length,this.col=this.elements[0].length}}return n.prototype.copy=function(){return new n(this.elements)},Object.defineProperty(n.prototype,"data",{get:function(){var n=this;return function(r,t){return void 0!==t?n.elements[r][t]:n.elements[r]}},enumerable:!0,configurable:!0}),n.prototype.add=function(r){return n.add(this,r)},n.prototype.sub=function(r){return n.sub(this,r)},n.prototype.mul=function(r){return n.mul(this,r)},n.prototype.scale=function(r){var t=this;return new n(new Array(this.row).fill(0).map(function(n,e){return new Array(t.col).fill(0).map(function(n,o){return t.elements[e][o]*r})}))},n.prototype.minor_matrix=function(r,t){for(var e=new n(this.row-1,this.col-1),o=0,a=0;o<this.row;o++)for(var i=0,s=0;i<this.col;i++)i!==t&&o!==r&&(e.elements[a][s++]=this.elements[o][i]),s>=e.col&&(s=0,a++);return e},n.prototype.minor=function(r,t){return n.det(this.minor_matrix(r,t))},n.prototype.cofactor=function(n,r){return Math.pow(-1,n+r)*this.minor(n,r)},n.prototype.inv=function(){var r=n.det(this);if(0===r)throw"Inverse not defined for singular matrix.";return n.adjoint(this).scale(1/r)},n.unit=function(r){return new n(new Array(r).fill(0).map(function(n,t){return new Array(r).fill(0).map(function(n,r){return t===r?1:0})}))},n.comatrix=function(r){return new n(r.elements.map(function(n,t){return n.map(function(n,e){return r.cofactor(t,e)})}))},n.adjoint=function(r){return n.transpose(n.comatrix(r))},n.transpose=function(r){for(var t=new n(r.col,r.row),e=0;e<t.row;e++)for(var o=0;o<t.col;o++)t.elements[e][o]=r.elements[o][e];return t},n.det=function(n){if(n.row!==n.col)throw"Determinant defined only for square matrices.";var r=n.row;if(1===r)return n.elements[0][0];for(var t=0,e=0;e<r;e++)t+=n.elements[0][e]*n.cofactor(0,e);return t},n.add=function(r,t){if(r.row!==t.row||r.col!==t.col)throw"Addition defined only for matrices of same order.";return new n(new Array(r.row).fill(0).map(function(n,e){return new Array(t.col).fill(0).map(function(n,o){return r.elements[e][o]+t.elements[e][o]})}))},n.sub=function(r,t){if(r.row!==t.row||r.col!==t.col)throw"Subtraction defined only for matrices of same order.";return new n(new Array(r.row).fill(0).map(function(n,e){return new Array(t.col).fill(0).map(function(n,o){return r.elements[e][o]-t.elements[e][o]})}))},n.mul=function(r,t){if(r.col!==t.row)throw"Multiplication not defined.";var e=r.row,o=t.col,a=r.col;return new n(new Array(e).fill(0).map(function(n,e){return new Array(o).fill(0).map(function(n,o){for(var i=0,s=0;s<a;s++)i+=r.elements[e][s]*t.elements[s][o];return i})}))},n}();t.Matrix=e},{}],12:[function(n,r,t){"use strict";var e,o=this&&this.__extends||(e=function(n,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var t in r)r.hasOwnProperty(t)&&(n[t]=r[t])})(n,r)},function(n,r){function t(){this.constructor=n}e(n,r),n.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)});Object.defineProperty(t,"__esModule",{value:!0});var a=n("./core/definitions"),i=n("./core/operators/binary"),s=n("./core/expression"),u=n("./vector"),c=n("./core/errors"),l=function(){return function(){this.quantity="scalar"}}();t.Scalar=l,function(n){var r=new Map,t=new Map,e=new Map,l=function(r){function t(n,t){void 0===t&&(t="");var e=r.call(this)||this;return e.value=n,e.name=t,e.type="constant",e}return o(t,r),t.prototype.equals=function(n,r){return Math.abs(this.value-n.value)<(r||1e-14)},t.prototype.add=function(r){return r instanceof n.Constant?n.constant(this.value+r.value):new n.Expression(i.BinaryOperator.ADD,this,r)},t.prototype.sub=function(r){return r instanceof n.Constant?n.constant(this.value-r.value):new n.Expression(i.BinaryOperator.SUB,this,r)},t.prototype.mul=function(r){var t=this;return r instanceof n?r instanceof n.Constant?n.constant(this.value*r.value):new n.Expression(i.BinaryOperator.MUL,this,r):r instanceof u.Vector.Constant?new u.Vector.Constant(r.value.map(function(n){return t.value*n.value})):new u.Vector.Expression(i.BinaryOperator.MUL,this,r,function(n){return t.mul(r.X(n))})},t.prototype.div=function(r){if(r instanceof n.Constant){if(r.equals(n.ZERO))throw new Error("Division by zero error");return n.constant(this.value/r.value)}return new n.Expression(i.BinaryOperator.DIV,this,r)},t.prototype.pow=function(r){if(r instanceof n.Constant){if(this.equals(n.ZERO)&&r.equals(n.ZERO))throw new c.IndeterminateForm("0 raised to the power 0");return n.constant(Math.pow(this.value,r.value))}return new n.Expression(i.BinaryOperator.POW,this,r)},t}(n);n.Constant=l;var f=function(r){function t(n){var t=r.call(this)||this;return t.name=n,t.type="variable",t}return o(t,r),t.prototype.add=function(r){return new n.Expression(i.BinaryOperator.ADD,this,r)},t.prototype.sub=function(r){return new n.Expression(i.BinaryOperator.SUB,this,r)},t.prototype.mul=function(r){var t=this;return r instanceof n?new n.Expression(i.BinaryOperator.MUL,this,r):new u.Vector.Expression(i.BinaryOperator.MUL,this,r,function(n){return t.mul(r.X(n))})},t.prototype.div=function(r){return new n.Expression(i.BinaryOperator.DIV,this,r)},t.prototype.pow=function(r){return new n.Expression(i.BinaryOperator.POW,this,r)},t}(n);n.Variable=f;var p=function(r){function t(n,t,e){var o=r.call(this)||this;return o.op=n,o.type="expression",o.operands=[],o.arg_list=s.ExpressionBuilder.createArgList(t,e),o.operands.push(t),void 0!==e&&o.operands.push(e),o}return o(t,r),Object.defineProperty(t.prototype,"lhs",{get:function(){if(2===this.operands.length)return this.operands[0];throw new Error("Unary operators have no left hand argument.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rhs",{get:function(){if(2===this.operands.length)return this.operands[1];throw new Error("Unary operators have no right hand argument.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"arg",{get:function(){if(1===this.operands.length)return this.operands[0];throw new Error("Binary operators have two arguments.")},enumerable:!0,configurable:!0}),t.prototype.add=function(r){return new n.Expression(i.BinaryOperator.ADD,this,r)},t.prototype.sub=function(r){return new n.Expression(i.BinaryOperator.SUB,this,r)},t.prototype.mul=function(r){var t=this;return r instanceof n?new n.Expression(i.BinaryOperator.MUL,this,r):new u.Vector.Expression(i.BinaryOperator.MUL,this,r,function(n){return t.mul(r.X(n))})},t.prototype.div=function(r){return new n.Expression(i.BinaryOperator.DIV,this,r)},t.prototype.pow=function(r){return new n.Expression(i.BinaryOperator.POW,this,r)},t.prototype.isFunctionOf=function(n){return this.arg_list.has(n)},t.prototype.at=function(n){var r=s.ExpressionBuilder.evaluateAt(this,n);return a.isConstant(r)?r:(a.isVariable(r),r)},t}(n);n.Expression=p,n.constant=function(r,o){var a;if("number"==typeof r)if(void 0===o)void 0===(a=t.get(r))&&(a=new n.Constant(r),t.set(r,a));else{if(void 0!==(a=e.get(o)))throw new c.Overwrite(o);a=new n.Constant(r,o),e.set(o,a)}else if(void 0===(a=e.get(r)))throw new Error("No such constant defined.");return a},n.variable=function(t){var e=r.get(t);return void 0===e&&(e=new n.Variable(t),r.set(t,e)),e},n.ZERO=n.constant(0)}(l=t.Scalar||(t.Scalar={})),t.Scalar=l,t.oo=l.constant(1/0),t.e=l.constant(Math.E),t.pi=l.constant(Math.PI),t.tau=l.constant(2*Math.PI)},{"./core/definitions":1,"./core/errors":2,"./core/expression":3,"./core/operators/binary":8,"./vector":13}],13:[function(n,r,t){"use strict";var e,o=this&&this.__extends||(e=function(n,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var t in r)r.hasOwnProperty(t)&&(n[t]=r[t])})(n,r)},function(n,r){function t(){this.constructor=n}e(n,r),n.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)});Object.defineProperty(t,"__esModule",{value:!0});var a=n("./core/definitions"),i=n("./core/operators/binary"),s=n("./core/operators/unary"),u=n("./core/expression"),c=n("./scalar"),l=n("./core/errors");t.__=void 0;var f=function(){function n(){this.quantity="vector"}return n.mag=function(r){if(r instanceof n.Constant){for(var t=0,e=1;e<=r.value.length;e++)t+=Math.pow(r.X(e).value,2);return c.Scalar.constant(Math.sqrt(t))}return new c.Scalar.Expression(i.BinaryOperator.MAG,n,r)},n.unit=function(r){if(r instanceof n.Constant)return r.scale(c.Scalar.constant(1).div(n.mag(r)));var t=n.mag(r);return new n.Expression(i.BinaryOperator.UNIT,n,r,function(n){return r.X(n).div(t)})},n}();t.Vector=f,function(n){var r=new Map,t=new Map,e=new Map,f=function(r){function t(n,t){void 0===t&&(t="");var e=r.call(this)||this;e.type="constant",e.value=[],e.name=t;for(var o=0,a=n;o<a.length;o++){var i=a[o];i instanceof c.Scalar.Constant?e.value.push(i):e.value.push(c.Scalar.constant(i))}return e.dimension=e.value.length,e}return o(t,r),Object.defineProperty(t.prototype,"X",{get:function(){var n=this.value;return function(r){if(r<=0)throw new l.InvalidIndex(r,0);return r<=n.length?n[r-1]:c.Scalar.constant(0)}},enumerable:!0,configurable:!0}),t.prototype.equals=function(n,r){void 0===r&&(r=1e-14);for(var t=Math.max(this.value.length,n.value.length),e=1;e<=t;e++)if(Math.abs(this.X(e).value-n.X(e).value)>=r)return!1;return!0},t.prototype.add=function(r){var t=this;if(r instanceof n.Constant){for(var e=Math.max(this.value.length,r.value.length),o=[],a=1;a<=e;a++)o.push(this.X(a).value+r.X(a).value);return n.constant(o)}return new n.Expression(i.BinaryOperator.ADD,this,r,function(n){if(n<=0)throw new l.InvalidIndex(n,0);return t.X(n).add(r.X(n))})},t.prototype.sub=function(r){var t=this;if(r instanceof n.Constant){for(var e=Math.max(this.value.length,r.value.length),o=[],a=1;a<=e;a++)o.push(this.X(a).value-r.X(a).value);return n.constant(o)}return new n.Expression(i.BinaryOperator.SUB,this,r,function(n){if(n<=0)throw new l.InvalidIndex(n,0);return t.X(n).sub(r.X(n))})},t.prototype.dot=function(r){if(r instanceof n.Constant){for(var t=0,e=Math.max(this.value.length,r.value.length),o=1;o<=e;o++)t+=this.X(o).value*r.X(o).value;return c.Scalar.constant(t)}return new c.Scalar.Expression(i.BinaryOperator.DOT,this,r)},t.prototype.cross=function(r){var t=this;if(this.dimension>3)throw new Error("Cross product defined only in 3 dimensions.");if(r instanceof n.Constant){if(r.dimension>3)throw new Error("Cross product defined only in 3 dimensions.");var e=this.X(1).value,o=this.X(2).value,a=this.X(3).value,s=r.X(1).value,u=r.X(2).value,c=r.X(3).value;return n.constant([o*c-a*u,a*s-e*c,e*u-o*s])}return new n.Expression(i.BinaryOperator.CROSS,this,r,function(n){if(n<=0)throw new l.InvalidIndex(n,0);if(t.value.length>3)throw new Error("Cross product defined only in 3 dimensions.");var e=t.X(1),o=t.X(2),a=t.X(3),i=r.X(1),s=r.X(2),u=r.X(3);return 1===n?o.mul(u).sub(a.mul(s)):2===n?a.mul(i).sub(e.mul(u)):e.mul(s).sub(o.mul(i))})},t.prototype.scale=function(r){var t=this;return r instanceof c.Scalar.Constant?n.constant(this.value.map(function(n){return r.mul(n).value})):new n.Expression(i.BinaryOperator.SCALE,this,r,function(n){if(n<=0)throw new l.InvalidIndex(n,0);return t.X(n).mul(r)})},t}(n);n.Constant=f;var p=function(r){function t(n,t){var e=r.call(this)||this;return e.type="variable",e.value=[],e.name=n,void 0!==t&&(e.value=t),e}return o(t,r),Object.defineProperty(t.prototype,"X",{get:function(){var n=this;return function(r){if(r<=0)throw new l.InvalidIndex(r,0);return 0===n.value.length?c.Scalar.variable(n.name+"_"+r):r<=n.value.length?n.value[r-1]:c.Scalar.constant(0)}},enumerable:!0,configurable:!0}),t.prototype.add=function(r){var t=this;return new n.Expression(i.BinaryOperator.ADD,this,r,function(n){if(n<=0)throw new l.InvalidIndex(n,0);return t.X(n).add(r.X(n))})},t.prototype.sub=function(r){var t=this;return new n.Expression(i.BinaryOperator.SUB,this,r,function(n){if(n<=0)throw new l.InvalidIndex(n,0);return t.X(n).sub(r.X(n))})},t.prototype.dot=function(n){return new c.Scalar.Expression(i.BinaryOperator.DOT,this,n)},t.prototype.cross=function(r){var t=this;return new n.Expression(i.BinaryOperator.CROSS,this,r,function(n){if(n<=0)throw new Error("Indexing starts from `1`.");if(t.value.length>3)throw new Error("Cross product defined only in 3 dimensions.");var e=t.X(1),o=t.X(2),a=t.X(3),i=r.X(1),s=r.X(2),u=r.X(3);return 1===n?o.mul(u).sub(a.mul(s)):2===n?a.mul(i).sub(e.mul(u)):e.mul(s).sub(o.mul(i))})},t.prototype.scale=function(r){var t=this;return new n.Expression(i.BinaryOperator.SCALE,this,r,function(n){if(n<=0)throw new l.InvalidIndex(n,0);return t.X(n).mul(r)})},t}(n);n.Variable=p;var h=function(r){function t(n,t,e,o){var a=r.call(this)||this;if(a.op=n,a.type="expression",a.operands=[],e instanceof Function&&void 0===o)a.X=e,a.arg_list=u.ExpressionBuilder.createArgList(t),a.operands.push(t);else{if(e instanceof Function||!(o instanceof Function))throw new Error("Illegal argument.");a.X=o,a.arg_list=u.ExpressionBuilder.createArgList(t,e),a.operands.push(t,e)}return a}return o(t,r),Object.defineProperty(t.prototype,"lhs",{get:function(){if(i.isBinaryOperator(this.op))return this.operands[0];throw new Error("Unary operators have no left hand argument.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rhs",{get:function(){if(i.isBinaryOperator(this.op))return this.operands[1];throw new Error("Unary operators have no right hand argument.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"arg",{get:function(){if(s.isUnaryOperator(this.op))return this.operands[0];throw new Error("Binary operators have two arguments.")},enumerable:!0,configurable:!0}),t.prototype.add=function(r){var t=this;return new n.Expression(i.BinaryOperator.ADD,this,r,function(n){if(n<=0)throw new l.InvalidIndex(n,0);return t.X(n).add(r.X(n))})},t.prototype.sub=function(r){var t=this;return new n.Expression(i.BinaryOperator.SUB,this,r,function(n){if(n<=0)throw new l.InvalidIndex(n,0);return t.X(n).sub(r.X(n))})},t.prototype.dot=function(n){return new c.Scalar.Expression(i.BinaryOperator.DOT,this,n)},t.prototype.cross=function(r){var t=this;return new n.Expression(i.BinaryOperator.CROSS,this,r,function(n){if(n<=0)throw new Error("Indexing starts from `1`.");var e=t.X(1),o=t.X(2),a=t.X(3),i=r.X(1),s=r.X(2),u=r.X(3);return 1===n?o.mul(u).sub(a.mul(s)):2===n?a.mul(i).sub(e.mul(u)):e.mul(s).sub(o.mul(i))})},t.prototype.scale=function(r){var t=this;return new n.Expression(i.BinaryOperator.SCALE,this,r,function(n){if(n<=0)throw new l.InvalidIndex(n,0);return t.X(n).mul(r)})},t.prototype.isFunctionOf=function(n){return this.arg_list.has(n)},t.prototype.at=function(n){var r=u.ExpressionBuilder.evaluateAt(this,n);return a.isConstant(r)?r:(a.isVariable(r),r)},t}(n);n.Expression=h,n.constant=function(e,o){var a;if(Array.isArray(e)){var i=[];if("number"==typeof e[0])for(var s=0;s<e.length;s++)i.push(e[s]);else if(e[0]instanceof c.Scalar.Constant)for(var u=0;u<e.length;u++)i.push(e[u].value);for(var l=i.length-1;l>=0&&0===i[l];l--);var f=i.slice(0,l+1).join();if(void 0===o)void 0===(a=r.get(f))&&(a=new n.Constant(i),r.set(f,a));else{if(void 0!==(a=t.get(o)))throw new Error("Attempt to redefine a constant: A constant with the same name already exists.");a=new n.Constant(i,o),t.set(o,a)}}else if(void 0===(a=t.get(e)))throw new Error("No such constant defined.");return a},n.variable=function(r,t){var o=e.get(r);if(void 0===o){if(void 0===t)o=new n.Variable(r);else{var a=[];if(void 0!==t){for(var i=t.length-1;i>=0&&t[i]===c.Scalar.constant(0)&&0===t[i];i--);for(var s=0;s<=i;s++){var u=t[s];void 0===u?a.push(c.Scalar.variable(r+"_"+(s+1))):u instanceof c.Scalar.Constant?a.push(u):a.push(c.Scalar.constant(u))}}o=new n.Variable(r,a)}e.set(r,o)}return o}}(f=t.Vector||(t.Vector={})),t.Vector=f},{"./core/definitions":1,"./core/errors":2,"./core/expression":3,"./core/operators/binary":8,"./core/operators/unary":9,"./scalar":12}],14:[function(n,r,t){const e=n("../build/index"),o=Object.keys(e);for(let n=0;n<o.length;n++)window[o[n]]=e[o[n]]},{"../build/index":10}]},{},[14]);
